# HTTP/2

HTTP/2는 SPDY 프로토콜에서 파생된 HTTP/1.x 보다 지연 시간을 줄이고 응답 시간을 더 빠르게 할 수 있으며 **멀티플렉싱, 헤더 압축, 서버 푸시, 요청의 우선순위 처리**를 지원하는 프로토콜입니다.

## 멀티플렉싱(Multiplexing)

멀티플렉싱이란 여러 개의 스트림을 사용하여 송수신한다는 것을 의미합니다. 이를 통해서 특정 스트림의 패킷이 손실되더라도 해당 스트림에만 영향을 미치고 나머지 스트림에는 영향을 미치지 않고 동작합니다.

>**스트림(stream)** 이란 시간이 지남에 따라 사용할 수 있게 되는 일련의 데이터 요소를 가리키는 데이터 흐름을 의미합니다.

### HTTP 1.x 의 HOL Blocking 문제 해결

<img src="https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Ft1.daumcdn.net%2Fcfile%2Ftistory%2F995998375C17AE5F13">

그림에서 보이듯이 HTTP1.1 까지는 한번에 하나의 파일만 전송이 가능했습니다. 이로인해서 여러 파일을 전송 할 경우, 앞에 있는 파일의 전송이 늦어질수록 전체 파일 전송 시간이 늘어나는 문제가 발생했습니다. HTTP/2에서는 여러 파일을 한번에 병렬 전송하여서 이러한 문제를 해결하였습니다.

## 헤더 압축

이전 헤더의 내용과 중복되는 필드를 재전송 안하고 데이터를 절약합니다. 또한 기존 HTTP Header 가 Plain Text이었지만, HTTP/2 에서는 **허프만 코딩(Huffman Coding)** 을 이용한 HPACK 압축방식을 이용하여서 데이터 전송 효율을 높였습니다.

>허프만코딩(Huffman Coding)이란 데이터 문자의 빈도에 따라서 다른 길이의 부호를 사용하는 알고리즘입니다.

## 서버 푸시

![image](https://user-images.githubusercontent.com/49313910/220884186-cdf3a804-1545-4c0d-a0f0-166c6e856058.png)

HTTP/1.1에서는 클라이언트가 서버에 요청을 해야 파일을 다운 받았지만 HTTP/2는 클라이언트 요청 없이 서버가 따로 리소스를 푸시할 수 있습니다. 

## 스트림 우선순위

멀티플렉싱을 할 수 있게 되면서 스트림들의 우선순위를 지정할 필요가 생겼습니다. 클라이언트는 우선순위 지정을 위해서 '우선순위 지정 트리'를 사용하여 서버의 스트림처리 우선순위를 지정할 수 있습니다. 서버는 우선순위가 높은 응답이 클라이언트에 우선적으로 전달될 수 있도록 대역폭을 설정합니다.


<br><br>
>참고자료
https://jins-dev.tistory.com/entry/HTTP2-%ED%8A%B9%EC%A7%95%EB%93%A4%EC%97%90-%EB%8C%80%ED%95%9C-%EC%A0%95%EB%A6%AC
https://velog.io/@taesunny/HTTP2HTTP-2.0-%EC%A0%95%EB%A6%AC#http2
